# 乡村旅游项目架构描述

本文档旨在详细描述乡村旅游项目的整体技术架构，涵盖小程序端、后端服务及后台管理系统。

---

## 1. 总体架构图

```
+------------------+        +----------------------+        +---------------------+
|                  |        |                      |        |                     |
|  微信小程序端     |        |      后端服务集群      |        |     运营管理后台      |
| (Vue3 + SCSS)    |<------>|   (SpringBoot)       |<------>|  (Vue3 + Element)   |
|                  |        |                      |        |                     |
+------------------+        +----------------------+        +---------------------+
       ^                            ^      ^      ^                     ^
       |                            |      |      |                     |
       |      RESTful API (HTTPS)   |      |      |      RESTful API    |
       +----------------------------+      |      +---------------------+
       |                                   |      |
       |        WebSocket (WSS)            |      |      WebSocket
       +-----------------------------------+      +----------------------
                                           |
                                           |
+----------------------+   +---------------+---------------+   +----------------------+
|                      |   |                               |   |                      |
|      MySQL数据库      |   |        第三方服务/API          |   |       Redis缓存       |
| (用户、商品、订单等)  |   | (支付、地图、AI模型等)          |   | (会话、热点数据)      |
|                      |   |                               |   |                      |
+----------------------+   +-------------------------------+   +----------------------+

```

---

## 2. 小程序端 (Client - Mini Program)

小程序是直接面向用户的核心应用，提供旅游产品浏览、内容攻略、下单支付和互动等功能。

-   **技术栈**:
    -   **Vue3**: 作为核心开发框架，利用其组合式 API (Composition API) 和高效的响应式系统，构建可维护、高性能的用户界面。
    -   **微信开发者工具**: 项目的开发、调试、预览和发布的官方集成环境。
    -   **SCSS**: 作为 CSS 预处理器，提供变量、嵌套、混入等高级功能，使样式代码更具结构化、更易于维护，并方便实现统一的视觉风格。
    -   **RESTful API**: 主要的数据通信方式。小程序通过 HTTPS 协议请求后端接口，获取如景点信息、文创商品、用户评价等数据，并提交订单、评论等操作。
    -   **WebSocket**: 用于实现实时性要求较高的功能，例如：
        -   接收订单状态变更的实时推送（如：已接单、已发货）。
        -   在线客服/咨询功能的即时消息通信。
        -   首页实时动态（如最新下单、最新评价）的滚动更新。

---

## 3. 后端 (Backend)

后端是整个系统的业务逻辑核心和数据中枢，负责处理所有客户端的请求，保障系统稳定、安全、高效地运行。

-   **技术栈**:
    -   **SpringBoot**: 作为整体应用框架，利用其自动配置、快速开发、易于部署的特性，整合所有后端组件。
    -   **MyBatis**: 持久层框架，负责与 MySQL 数据库进行交互。通过将 SQL 语句写在 XML 文件中，实现了业务逻辑与 SQL 的解耦，同时提供了比 JPA/Hibernate 更高的灵活性和对复杂查询的控制力。
    -   **MySQL**: 主力关系型数据库，用于持久化存储核心业务数据，如用户信息、商品信息、旅游攻略、订单数据、财务信息等。
    -   **Redis**: 高性能的内存数据库，主要用于：
        -   **缓存**: 缓存热点数据（如首页信息、热门商品详情），降低数据库压力，提升响应速度。
        -   **会话管理**: 存储用户登录状态（JWT 黑名单或会话信息），实现分布式会话。
    -   **WebSocket**: 后端开启 WebSocket 服务端点，与小程序端和管理后台建立长连接，用于主动向客户端推送实时数据。
    -   **JWT (JSON Web Token)**: 作为用户认证和授权的标准方案。用户登录成功后，后端会签发一个包含用户信息的 Token。后续所有需要授权的 API 请求，客户端都必须在请求头中携带此 Token，后端通过校验 Token 的有效性来验证用户身份。
    -   **Spring AI**: 集成 AI 能力的模块，为项目提供智能化功能，应用场景可能包括：
        -   **智能客服**: 构建一个可以回答常见旅游问题的聊天机器人。
        -   **内容生成**: 辅助运营人员自动生成景点介绍、宣传文案等。
        -   **个性化推荐**: 基于用户行为和偏好，智能推荐旅游路线或文创产品。

---

## 4. 管理后台 (Admin Frontend)

管理后台是项目运营和内容维护的平台，供内部员工使用，以确保前台应用的数据和内容准确、及时。

-   **技术栈**:
    -   **前端框架**: 同样采用 **Vue3**，与小程序端技术栈保持一致，便于团队维护。可以搭配 Element-Plus 或 Ant Design Vue 等成熟的 UI 组件库，快速搭建功能强大的后台界面。
    -   **功能模块**: 包括用户管理、内容管理（攻略、文章）、商品管理、订单管理、数据统计与分析、系统设置等。
    -   **通信方式**:
        -   **RESTful API**: 与后端进行数据交互，执行内容的增删改查（CRUD）操作。
        -   **WebSocket**: 接收实时通知，例如当有新订单或新用户注册时，在仪表盘上进行实时提醒，实现动态数据监控。
-   **设计理念**:
    -   采用现代化仪表盘（Dashboard）设计，将核心指标（如游客流量、文创收入）以图表形式直观展示。
    -   设置快捷操作入口，简化高频操作流程。
    -   引入实时动态时间线，让后台"活"起来，增强操作的即时反馈感。 